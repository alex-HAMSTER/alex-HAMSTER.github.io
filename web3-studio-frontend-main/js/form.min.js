const mailReg=/^([a-zA-Z0-9_-]+\.)*[a-zA-Z0-9_-]+@[a-z0-9_-]+(\.[a-z0-9_-]+)*\.[a-z]{2,6}$/;const phoneReg=/\+?\d{0,3}[\s\(\-]?([0-9]{2,3})[\s\)\-]?([\s\-]?)([0-9]{3})[\s\-]?([0-9]{2})[\s\-]?([0-9]{2})/;const nameReg=/^(([a-zA-Z' -]{1,80})|([а-яА-ЯЁёІіЇїҐґЄє' -]{1,80}))$/u;const urlReg=/(http|https):\/\/([\w.]+\/?)\S*/;const sliderNumb=document.getElementById("sliderNumb");const formId=document.getElementById("formId");const inputPhone=document.getElementById("formPhone");const inputMail=document.getElementById("formEmail");const inputCompanyName=document.getElementById("formCompany");const inputName=document.getElementById("formName");const formRadio=document.getElementsByName("service");const inputUrl=document.getElementById("formUrl");const formTask=document.getElementById("textarea");const nextBtn=document.getElementById("nextBtn");let slides=1;let validNumb;let validEmail;let validName;let reviewName=document.getElementById("reviewName");let reviewPhone=document.getElementById("reviewPhone");let reviewEmail=document.getElementById("reviewEmail");let reviewCompany=document.getElementById("reviewCompany");let reviewService=document.getElementById("reviewService");let reviewLink=document.getElementById("reviewLink");let reviewTask=document.getElementById("reviewTask");let clientInfo={name:"",company:"",phone:"",email:"",service:"",url:"",task:""};sliderNumb.innerHTML=slides;inputPhone.oninvalid=function(event){event.target.setCustomValidity("Будь ласка, заповніть це поле. Oбов'язковий формат: +380501234567, або 0501234567")};inputMail.oninvalid=function(event){event.target.setCustomValidity("Будь ласка, заповніть це поле. Обов'язковий формат: usermail@gmail.com")};inputName.oninvalid=function(event){event.target.setCustomValidity("Будь ласка, заповніть це поле. Тільки букви")};inputUrl.oninvalid=function(event){event.target.setCustomValidity("Будь ласка, заповніть це поле. Oбов'язковий формат: http/https://...")};function validateName(input){if(nameReg.test(input.value)){input.setCustomValidity("");inputName.classList.remove("invalidVal");validName=input.value;reviewDataForm()}else{input.setCustomValidity("Тільки букви");inputName.classList.add("invalidVal");validName=input.value;reviewDataForm()}}function validatePhone(input){if(phoneReg.test(input.value)){input.setCustomValidity("");inputPhone.classList.remove("invalidVal");validNumb=input.value;reviewDataForm()}else{validNumb=input.value;input.setCustomValidity("Номер телефону не відповідає вимогам, обов'язковий формат: +380501234567, або 0501234567");inputPhone.classList.add("invalidVal");reviewDataForm()}}function validateEmail(input){if(mailReg.test(input.value)){input.setCustomValidity("");inputMail.classList.remove("invalidVal");validEmail=input.value;reviewDataForm()}else{input.setCustomValidity("Обов'язковий формат: usermail@gmail.com");inputMail.classList.add("invalidVal");validEmail=input.value;reviewDataForm()}}function validateUrl(input){if(urlReg.test(input.value)){input.setCustomValidity("");inputUrl.classList.remove("invalidVal")}else{input.setCustomValidity("Будь ласка, заповніть це поле. Oбов'язковий формат: http/https://...");inputUrl.classList.add("invalidVal")}}function reviewDataForm(){if(nameReg.test(validName)&&phoneReg.test(validNumb)&&mailReg.test(validEmail)){nextBtn.classList.remove("disabled")}else{nextBtn.classList.add("disabled")}}formId.addEventListener("submit",function(event){event.preventDefault()});document.getElementById("bait").addEventListener("click",function(event){if(nextBtn.matches(".disabled")){console.log("nothing")}else{nextBtn.click()}});var swiper=new Swiper(".swiper",{pagination:{el:".swiper-pagination",type:"progressbar"},allowTouchMove:false,navigation:{nextEl:".next__btn",prevEl:".prev__btn"}});function slidesChange(){slides+=1;sliderNumb.innerHTML=slides;if(slides===5){CreateForm()}}function submitForm(){SendForm();slidesChange();window.location.href="complete.html"}function slidesChangeMin(){slides-=1;sliderNumb.innerHTML=slides}function auto_grow(element){element.style.height="5px";element.style.height=element.scrollHeight+"px"}$(document).ready(function(){$(".scrollarea").niceScroll({cursorcolor:"#0077FF",cursorwidth:"2px",autohidemode:true,cursormaxheight:10})});function CreateForm(){for(var i=0,length=formRadio.length;i<length;i++){if(formRadio[i].checked){clientInfo.service=formRadio[i].value}}clientInfo.name=inputName.value;clientInfo.company=inputCompanyName.value;clientInfo.phone=inputPhone.value;clientInfo.email=inputMail.value;clientInfo.url=inputUrl.value;clientInfo.task=formTask.value;reviewService.innerHTML=clientInfo.service;reviewName.innerHTML=clientInfo.name;reviewPhone.innerHTML=clientInfo.phone;reviewEmail.innerHTML=clientInfo.email;reviewCompany.innerHTML=clientInfo.company;reviewLink.innerHTML=clientInfo.url;reviewTask.innerHTML=clientInfo.task}function SendForm(){console.log(clientInfo);$.ajax({type:"POST",url:"...",data:clientInfo,error:function(response){console.log(response);console.log("error")},success:function(response){console.log(response);console.log("success")}})}